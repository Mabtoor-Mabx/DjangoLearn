{% extends "blog/base.html" %}

{% block content %}

<h2> All Posts </h2>

<p> Average Views: {{avg_views.views__avg}} </p>

<div class="list-group">

    {% for post in page_obj  %}
    
    <a href="{% url "post_detail" post.pk %}" class="list-group-item list-group-item-action">

    <h5> {{post.title}} </h5>

    <small> {{post.views}} views | {{post.comment_count}} comments 

    </small>
    </a>

    {% empty %}

    <p> No Post Avaliable </p>
    {% endfor %}
</div>

<div class="mt-3">

    {% if page_obj.has_previous %}
    
    <a href="?page={{page_obj.previous_page_number}}" class="btn btn-primary"> Previous </a>
    {% endif %}
    {% if page_obj.has_next %}
    <a href="?page={{page_obj.next_page_number}}" class="btn btn-primary"> Next </a>
    {% endif %}
</div>
{% endblock %}

